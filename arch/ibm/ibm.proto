syntax = "proto2";

import "lib/common.proto";

message IbmDecoderProto {
	optional int32 sector_id_base = 1 [default = 1,
		(help) = "ID of first sector"];
	optional bool ignore_side_byte = 2 [default = false,
		(help) = "ignore side byte in sector header"];
	optional RangeProto required_sectors = 3 [
		(help) = "require these sectors to exist for a good read"];
}

message IbmEncoderProto {
	optional double track_length_ms = 1;
	optional int32 sector_size = 2 [default=512];
	optional bool emit_iam = 3 [default=true];
	optional int32 start_sector_id = 4 [default=1];
	optional double clock_rate_khz = 5;
	optional bool use_fm = 6 [default=false];
	optional int32 idam_byte = 7 [default=0x5554];
	optional int32 dam_byte = 8 [default=0x5545];
	optional int32 gap0 = 9 [default=80];
	optional int32 gap1 = 10 [default=50];
	optional int32 gap2 = 11 [default=22];
	optional int32 gap3 = 12 [default=80];
	optional string sector_skew = 13;
	optional bool swap_sides = 14 [default=false];
}

